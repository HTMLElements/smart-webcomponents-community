
/* Smart HTML Elements v1.0.0 (2018-April) 
Copyright (c) 2011-2018 jQWidgets. 
License: http://htmlelements.com/pricing/ */

 "use strict";Smart("smart-list-item",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div id=\"container\">\n                   <span id='itemInput' class ='smart-input smart-hidden'></span>\n                   <div id=\"itemContainer\" inner-h-t-m-l='[[innerHTML]]' class =\"smart-list-item-container\"><content></content></div>\n               </div>"}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}t.$.itemContainer.innerHTML="",e instanceof HTMLElement&&t.$.itemContainer.appendChild(e)}},{key:"insertBefore",value:function(e,t){var r=this;if(!r.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(r,i.concat(Array.prototype.slice.call(arguments)))}t.parentNode.insertBefore(e,t)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.itemContainer.removeChild(e)}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.ownerListBox=e.getListBox()}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;""!==e.label?e.innerHTML=e.label:""!==e.innerHTML&&(e.label=e.innerHTML),e._setDisplayMode(e.displayMode)}},{key:"propertyChangedHandler",value:function(e,r,i){var a=this;if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,r,i),"hidden"===e&&(i?a.$.addClass("smart-hidden"):a.$.removeClass("smart-hidden")),"displayMode"===e&&a._setDisplayMode(i),"label"===e){var n=a.context;a.context=document,a.innerHTML=i;a.getListBox().onItemUpdated(a),a.context=n}if("innerHTML"===e){a.getListBox().onItemUpdated(a)}}},{key:"getListBox",value:function(){for(var e=this,t=e.parentNode;t instanceof Smart.ListBox==!1&&null!==t;)t=t.parentNode;return t}},{key:"_itemOnMouseEnter",value:function(){var e=this;!e.disabled&&e.ownerListBox&&e.$.addClass("hovered")}},{key:"_itemOnMouseMove",value:function(e){var t=this;if(t.ownerListBox&&Smart.ListBox.DragDrop.Dragging&&t.ownerListBox.reorder&&!Smart.Utilities.Core.isMobile){var r=t.ownerListBox.offsetTop;if(Smart.ListBox.DragDrop.DropDetails={item:t,position:"top"},!t.ownerListBox._areCSSVarsSupported){if(t.ownerListBox._indexOf(t)===t.ownerListBox._items.length-1||t.parentNode.lastElementChild===t){var i=t.getBoundingClientRect();e.pageY>r+i.height/2-1&&(Smart.ListBox.DragDrop.DropDetails={item:t,position:"bottom"})}return}if(t.$.removeClass("smart-list-item-line-feedback"),t.$.removeClass("smart-list-item-bottom-line-feedback"),t.ownerListBox._indexOf(t)===t.ownerListBox._items.length-1||t.parentNode.lastElementChild===t){var a=t.getBoundingClientRect();e.pageY>r+a.height/2-1?(t.$.addClass("smart-list-item-bottom-line-feedback"),Smart.ListBox.DragDrop.DropDetails={item:t,position:"bottom"}):t.$.addClass("smart-list-item-line-feedback")}else t.$.addClass("smart-list-item-line-feedback")}}},{key:"_itemOnMouseLeave",value:function(){var e=this;e.ownerListBox&&(Smart.ListBox.DragDrop.Dragging&&(e.$.removeClass("smart-list-item-line-feedback"),e.$.removeClass("smart-list-item-bottom-line-feedback")),e.$.removeClass("hovered"))}},{key:"_setDisplayMode",value:function(e){var t=this,r=t.getListBox();if(r){var i="checkBox"===r.selectionMode||"radioButton"===r.selectionMode?r.selectionMode:"plain";t.displayMode=e=i}if("plain"===e)return void t.$itemInput.addClass("smart-hidden");t.$itemInput.removeClass("smart-hidden")}},{key:"hasStyleObserver",get:function(){return!1}}],[{key:"properties",get:function(){return{displayMode:{allowedValues:["plain","checkBox","radioButton"],value:"plain",type:"string"},focused:{value:!1,type:"boolean"},grouped:{value:!1,type:"boolean"},selected:{value:!1,type:"boolean"},value:{value:"",type:"string"},label:{value:"",type:"string"},group:{value:"",type:"string"},hidden:{value:!1,type:"boolean"},unselectable:{value:!1,type:"boolean"}}}},{key:"listeners",get:function(){return{mouseenter:"_itemOnMouseEnter",mouseleave:"_itemOnMouseLeave",mousemove:"_itemOnMouseMove"}}}]),t}(Smart.ContentElement)),Smart("smart-list-items-group",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                 <span id="itemsLabel" class ="smart-list-items-group-label">[[label]]</span>\n                 <div id="listItemsGroupContainer" inner-h-t-m-l=\'[[innerHTML]]\' class ="smart-list-items-group-container">\n                    <content></content>\n                 </div>\n               </div>'}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.appendChild(e)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.removeChild(e)}},{key:"getListBox",value:function(){for(var e=this,t=e.parentNode;t instanceof Smart.ListBox==!1&&null!==t;)t=t.parentNode;return t}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.ownerListBox||(e.ownerListBox=e.getListBox())}}],[{key:"properties",get:function(){return{label:{value:"",type:"string"}}}}]),t}(Smart.ContentElement)),Smart("smart-list-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_downHandler",value:function(e){var t=this;if(!(t.disabled||t.displayLoadingIndicator||t.readonly)){var r=e.originalEvent.target,i=null;if(!(r instanceof Smart.ListItem)||r.disabled||r.hidden||r instanceof Smart.ListItemsGroup)for(;r.parentElement;){if(r instanceof Smart.ListItem&&!r.disabled&&!r.hidden&&!(r instanceof Smart.ListItemsGroup)){i=r.dataItem;break}r=r.parentElement}else i=r.dataItem;Smart.ListBox.DragDrop.StartTime=new Date,Smart.ListBox.DragDrop.StartPosition={left:e.pageX,top:e.pageY},i&&(t.className.indexOf("material")>-1&&Smart.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),Smart.Utilities.Core.isMobile||(t._focus(i),t.select(i)),!Smart.ListBox.DragDrop.Feedback&&t.reorder&&(Smart.ListBox.DragDrop.Feedback=document.createElement("span"),Smart.ListBox.DragDrop.Feedback.appendChild(i.offsetHeight?i.cloneNode(!0):t._createItem(i)),Smart.ListBox.DragDrop.Item=i,Smart.Utilities.Extend(Smart.ListBox.DragDrop.Feedback).addClass("smart-popup smart-list-item smart-list-item-feedback")))}}},{key:"_dblclickEventHandler",value:function(e){var t=this;if(t.editable){var r=e.target.closest("smart-list-item");if(!(r instanceof Smart.ListItem)||r.disabled||r.readonly)return void t.$editInput.addClass("smart-hidden");t.$.editInput.owner=r,t.$.editInput.value=r.label,t.$.editInput.style.height=r.offsetHeight+"px",t.$.editInput.style.top=r.offsetTop+"px",t.$editInput.hasClass("smart-hidden")&&t.$editInput.removeClass("smart-hidden"),t.$.editInput.focus()}}},{key:"_editInputEventHandler",value:function(e){var t=this;if("blur"===e.type||"keydown"===e.type&&"Escape"===e.key)return t.$editInput.hasClass("smart-hidden")||t.$editInput.addClass("smart-hidden"),void t.focus();if("keydown"!==e.type&&!t.$editInput.hasClass("smart-hidden")){var r=e.target;if(e.stopPropagation(),r.owner.label!==r.value&&(r.owner.label=r.value,t.dataSource)){var i=r.owner.dataIndex,a=t.dataSource[i];a&&(t.displayMember?a[t.displayMember]=r.value:a.label=r.value)}t.$editInput.addClass("smart-hidden"),t.$.fireEvent("change",{selected:r.owner.selected,disabled:r.owner.disabled,index:t._indexOf(r.owner),label:r.owner.label,value:r.owner.value})}}},{key:"_pointerUpHandler",value:function(e){var t=e.target,r=function(e){var t=e.ownerListBox;t.disabled||t.displayLoadingIndicator||"none"===t.selectionMode||e.grouped||e.unselectable||(t._focus(e),t.select(e))};if(e.target instanceof Smart.ListItem&&!e.target.disabled&&!(e.target instanceof Smart.ListItemsGroup))return void r(t.dataItem);for(;t.parentElement;){if(t instanceof Smart.ListItem&&!t.disabled&&!(t instanceof Smart.ListItemsGroup)){r(t.dataItem);break}t=t.parentElement}}},{key:"_upHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly&&Smart.ListBox.DragDrop.StartPosition){if(Smart.Utilities.Core.isMobile&&!Smart.ListBox.DragDrop.Dragging){var r=Math.abs(e.pageX-Smart.ListBox.DragDrop.StartPosition.left),i=Math.abs(e.pageY-Smart.ListBox.DragDrop.StartPosition.top),a=r>=0&&r<=3&&i>=0&&i<=3;if(Smart.Utilities.Core.isMobile&&new Date-Smart.ListBox.DragDrop.StartTime>=300&&(a=!1,Smart.ListBox.DragDrop.StartTime=null),a)t._pointerUpHandler(e.originalEvent),Smart.ListBox.DragDrop.StartPosition=null;else{var n=e.originalEvent.target;if(!(e.target instanceof Smart.ListItem)||e.target.disabled||e.target instanceof Smart.ListItemsGroup)for(;n.parentElement;){if(n instanceof Smart.ListItem&&!n.disabled&&!(n instanceof Smart.ListItemsGroup)){e.preventDefault(),e.stopPropagation();break}n=n.parentElement}else e.preventDefault(),e.stopPropagation()}}if(Smart.ListBox.DragDrop.Feedback){if(Smart.ListBox.DragDrop.Feedback.parentNode&&Smart.ListBox.DragDrop.Feedback.parentNode.removeChild(Smart.ListBox.DragDrop.Feedback),Smart.ListBox.DragDrop.Feedback=null,Smart.Utilities.Core.isMobile&&Smart.ListBox.DragDrop.Dragging)for(var l=0;l<Smart.ListBox.DragDrop.ListBoxes.length;l++){var o=Smart.ListBox.DragDrop.ListBoxes[l],s=o.getBoundingClientRect();if(o.reorder&&(o.offsetLeft<=e.pageX&&e.pageX<=o.offsetLeft+s.width&&o.offsetTop<=e.pageY&&e.pageY<=o.offsetTop+s.height))for(var d=0;d<o._items.length;d++){var c=o._items[d],u=c.getBoundingClientRect();if((o._indexOf(c)===o._items.length-1||c.parentNode.lastElementChild===c)&&e.pageY>=o.offsetTop+c.offsetTop+u.height/2&&e.pageY<=o.offsetTop+c.offsetTop+u.height){Smart.ListBox.DragDrop.DropDetails={item:c,position:"bottom"};break}if(e.pageY>=o.offsetTop+c.offsetTop&&e.pageY<=o.offsetTop+c.offsetTop+u.height){Smart.ListBox.DragDrop.DropDetails={item:c,position:"top"};break}}}if(Smart.ListBox.DragDrop.DropDetails){var p=Smart.ListBox.DragDrop.DropDetails.item;if(p.$.removeClass("smart-list-item-line-feedback"),p.$.removeClass("smart-list-item-bottom-line-feedback"),Smart.ListBox.DragDrop.Item!==p){var m=Smart.ListBox.DragDrop.Item;if("none"!==m.ownerListBox.dropAction){p.ownerListBox!==m.ownerListBox&&"move"===m.ownerListBox.dropAction&&Smart.ListBox.DragDrop.Item.ownerListBox.removeChild(Smart.ListBox.DragDrop.Item),"copy"===m.ownerListBox.dropAction&&(m=m.cloneNode(!0)),Smart.ListBox.DragDrop.Item.group=p.group;var f=Smart.ListBox.DragDrop.DropDetails.item.ownerListBox;"top"===Smart.ListBox.DragDrop.DropDetails.position?f.insertBefore(m,p):p.parentNode.lastElementChild===p?p.parentNode.appendChild(m):f.appendChild(m,p),f.ensureVisible(m),"checkBox"===f.selectionMode||"radioButton"===f.selectionMode?f._focus(m):(f.clearSelection(),f.select(m))}}var h=Smart.ListBox.DragDrop.Item;t.$.fireEvent("reorderEnd",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,selected:h.selected,disabled:h.disabled,index:t._indexOf(h),label:h.label,value:h.value})}else{var g=Smart.ListBox.DragDrop.Item;t.$.fireEvent("reorderEnd",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,selected:g.selected,disabled:g.disabled,index:t._indexOf(g),label:g.label,value:g.value})}Smart.ListBox.DragDrop.Dragging=!1,Smart.ListBox.DragDrop.Item=null,Smart.ListBox.DragDrop.DropDetails=null}for(var _=0;_<Smart.ListBox.DragDrop.ListBoxes.length;_++){var v=Smart.ListBox.DragDrop.ListBoxes[_];v._dragInterval&&clearInterval(v._dragInterval)}}}},{key:"_itemsContainerMoveHandler",value:function(e){var t=this;if(Smart.ListBox.DragDrop.Dragging)return t._moveHandler(e),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}},{key:"_moveHandler",value:function(e){if(Smart.ListBox.DragDrop.Feedback){if(Smart.ListBox.DragDrop.Dragging){Smart.ListBox.DragDrop.Feedback.style.left=5+e.pageX+"px",Smart.ListBox.DragDrop.Feedback.style.top=5+e.pageY+"px";for(var t=0;t<Smart.ListBox.DragDrop.ListBoxes.length;t++)!function(t){var r=Smart.ListBox.DragDrop.ListBoxes[t];r._dragInterval&&clearInterval(r._dragInterval),r._dragInterval=setInterval(function(){var t=r.getBoundingClientRect();r.offsetLeft<=e.pageX&&r.offsetLeft+t.width>=e.pageX&&(e.pageY>=r.offsetTop&&e.pageY<=r.offsetTop+20?r._scrollView.scrollTop-=2:e.pageY>=r.offsetTop+t.height-20&&e.pageY<=r.offsetTop+t.height&&(r._scrollView.scrollTop+=2))},1)}(t);return e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}var r=Math.abs(e.pageX-Smart.ListBox.DragDrop.StartPosition.left),i=Math.abs(e.pageY-Smart.ListBox.DragDrop.StartPosition.top),a=new Date-Smart.ListBox.DragDrop.StartTime,n=r>=5&&r<=15||i>=5&&i<=15;if(Smart.Utilities.Core.isMobile&&(a<300||a>1e3)&&(n=!1),n){Smart.ListBox.DragDrop.Dragging=!0,Smart.ListBox.DragDrop.Feedback.style.left=5+e.pageX+"px",Smart.ListBox.DragDrop.Feedback.style.top=5+e.pageY+"px",document.body.appendChild(Smart.ListBox.DragDrop.Feedback),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation();var l=this,o=Smart.ListBox.DragDrop.Item;l.$.fireEvent("reorderStart",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,selected:o.selected,disabled:o.disabled,index:l._indexOf(o),label:o.label,value:o.value})}}}},{key:"_focusHandler",value:function(){this._focused=!0}},{key:"_blurHandler",value:function(){this._focused=!1}},{key:"template",value:function(){return'<div id="container" class="smart-container">\n                 <input id="filterInput" class ="smart-hidden"  disabled="[[disabled]]" placeholder=\'[[filterInputPlaceholder]]\'>\n                 <div id="itemsContainer" class="smart-list-items-container">\n                      <div id="placeholder" class ="smart-placeholder">[[placeholder]]</div>\n                      <div id="itemsInnerContainer" inner-h-t-m-l=\'[[innerHTML]]\' class ="smart-list-items-inner-container">\n                          <content></content>\n                      </div>\n                      <input type="text" id="editInput" class= "smart-hidden"/>\n                 </div>\n                 <smart-scroll-bar id="verticalScrollBar" disabled="[[disabled]]" orientation="vertical"></smart-scroll-bar>\n                 <smart-scroll-bar id="horizontalScrollBar" disabled="[[disabled]]" ></smart-scroll-bar>\n                 <div id="loadingIndicatorContainer" class ="smart-loader-container">\n                    <span id="loadingIndicator" class="smart-loader"></span>\n                    <span id="loadingIndicatorPlaceHolder" class ="smart-loader-label smart-hidden">[[loadingIndicatorPlaceholder]]</span>\n                 </div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}t.isVirtualized?(t._items.indexOf(e)>-1&&t._items.splice(t._items.indexOf(e),1),t._items.push(e)):t.$.itemsInnerContainer.appendChild(e),t._refreshItems()}},{key:"insertBefore",value:function(e,t){var r=this;if(!r.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(r,i.concat(Array.prototype.slice.call(arguments)))}r.isVirtualized?(r._items.indexOf(e)>-1&&r._items.splice(r._items.indexOf(e),1),r._items.splice(r._indexOf(t),0,e)):t.parentNode.insertBefore(e,t),r._refreshItems()}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}t.isVirtualized?t._items.splice(t._indexOf(e),1):e.parentNode&&e.parentNode.removeChild(e),t._refreshItems()}},{key:"propertyChangedHandler",value:function(e,r,i){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,r,i);var a=this;switch(e){case"innerHTML":a.clearSelection(),a._dataBind(),a.innerHTML=a.content=Smart.Utilities.Core.html(a.$.content);break;case"dataSource":case"valueMember":case"groupMember":case"displayMember":a.clearSelection(),a._dataBind();break;case"disabled":case"unfocusable":a._setFocusable();break;case"displayLoadingIndicator":a._setLoadingIndicatorVisibility();break;case"filterable":a._refreshFilter(),a._refreshLayout();break;case"grouped":if(i?a._group():a._ungroup(),"radioButton"===a.selectionMode){if(a.selectedValues.length>0){var n=a.selectedValues;a.clearSelection(),a.select(n[0])}}else a._refreshSelection();a._refreshLayout();break;case"itemTemplate":if(null===i||""===i)return a._items.map(function(e){return e.innerHTML=e.label}),delete a._bindingDetails,void a._refreshLayout();var l=a.querySelectorAll("smart-list-item"),o=function(){a._handleItemTemplate(i)&&(a._items.map(function(e){return a._applyTemplate(e)}),a._refreshLayout()),a.ownerElement&&a.ownerElement._setDropDownSize&&a.ownerElement._setDropDownSize(),a.$.fireEvent("bindingComplete")};0===l.length?o():a._ensureItemsReady(l,o);break;case"selectedIndexes":case"selectedValues":if(!a._items||0===a._items.length)return a.selectedIndexes=[],a.selectedValues=[],void(a.$.hiddenInput.value=a.selectedValues.toString());if("selectedIndexes"===e){a.selectedValues=[],a._refreshSelection();for(var s=0;s<i.length;s++){var d=i[s],c=a._items[d];c&&("oneOrManyExtended"===a.selectionMode?a._select(c):a.select(c))}}else{a.selectedValues=[],a._refreshSelection();for(var u=0;u<i.length;u++){var p=i[u],m=a.getItem(p);m&&("oneOrManyExtended"===a.selectionMode?a._select(m):a.select(m))}}a.selectedIndexes.length>0&&a._focus(a._items[a.selectedIndexes[0]]);break;case"selectionMode":var f="checkBox"===a.selectionMode||"radioButton"===a.selectionMode?a.selectionMode:"plain";0===a.selectedIndexes.length&&a._items.length>0&&("oneOrMany"!==a.selectionMode&&"one"!==a.selectionMode&&"oneOrManyExtended"!==a.selectionMode||a.select(a._items[0]));var h=a.selectedValues;a.selectedValues=[],a._refreshSelection();for(var g=0;g<h.length;g++){var _=h[g],v=a.getItem(_);v&&("oneOrManyExtended"===a.selectionMode?a._select(v):a.select(v))}a._items.forEach(function(e){return e.displayMode=f}),a._recycle();break;case"sorted":i?a._sort():a._unsort(),a._refreshSelection(),a._refreshLayout()}}},{key:"_refreshSelection",value:function(){var e=this;if(e._items&&0!==e._items.length){var t=e.selectedValues;e.selectedIndexes=[],e.selectedValues=[];for(var r=0;r<e._items.length;r++){var i=e._items[r];i.selected=!1,t.indexOf(i.value)>-1&&e._select(i,!0)}e._recycle()}}},{key:"clearSelection",value:function(){var e=this;if(e._items&&0!==e._items.length){for(var t=0;t<e.selectedIndexes.length;t++){var r=e.selectedIndexes[t],i=e._items[r];i&&(i.selected=!1)}e.selectedIndexes=[],e.selectedValues=[],e.$.hiddenInput.value=e.selectedValues.toString(),e._recycle()}}},{key:"ensureVisible",value:function(e){var t=this;return!("string"==typeof e&&!(e=t.getItem(e)))&&(e.top+e.height>=t._scrollView.scrollTop+t.offsetHeight&&(t._scrollView.scrollTop=t._scrollView.scrollTop+e.height,t.isVirtualized||(t.$.itemsContainer.scrollTop=t._scrollView.scrollTop)),(e.top<=t._scrollView.scrollTop||e.top>=t._scrollView.scrollTop+t.$.itemsContainer.offsetHeight)&&(t._scrollView.scrollTop=e.top,t.isVirtualized||(t.$.itemsContainer.scrollTop=t._scrollView.scrollTop)),0===t._indexOf(e)||1===t._indexOf(e)&&t._items.length>1&&t._items[0].grouped?(t._scrollView.scrollTop=0,t.isVirtualized||(t.$.itemsContainer.scrollTop=t._scrollView.scrollTop)):t._indexOf(e)===t._items.length-1&&(t._scrollView.scrollTop=t._scrollView.scrollHeight,t.isVirtualized||(t.$.itemsContainer.scrollTop=t._scrollView.scrollTop)),!0)}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._areCSSVarsSupported=Smart.Utilities.Core.CSSVariablesSupport(),e._keysPressed={},e._incrementalSearchQuery="",e._incrementalSearchItems=[],e._previousEntry="",e.isUpdating=0,e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._scrollView.hScrollBar.$.addClass("smart-hidden"),e._scrollView.vScrollBar.$.addClass("smart-hidden"),e._setFocusable(),e._setLoadingIndicatorVisibility(),e._refreshFilter(),e._initializeInnerHTML(),e._dataBind()}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),Smart.ListBox.DragDrop||(Smart.ListBox.DragDrop={ListBoxes:[]}),Smart.ListBox.DragDrop.ListBoxes.push(e),e._scrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar))}},{key:"detached",value:function(){var e=this;if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView),Smart.ListBox.DragDrop&&Smart.ListBox.DragDrop.ListBoxes){var r=Smart.ListBox.DragDrop.ListBoxes.indexOf(e);Smart.ListBox.DragDrop.ListBoxes.splice(r,1)}}},{key:"_createItem",value:function(e,t,r){var i=this,a="checkBox"===i.selectionMode||"radioButton"===i.selectionMode?i.selectionMode:"plain",n=r?{}:document.createElement("smart-list-item");n.ownerListBox=i,"number"==typeof e&&(e=""+e);var l=function(t,r){return void 0!==e[t]?""+e[t]:e[r]},o="string"==typeof e?e:l(i.displayMember,"label"),s="string"==typeof e?e:l(i.valueMember,"value"),d=l(i.groupMember,"group");return void 0===o&&(o=void 0!==t?""+t:""),n.label=n.innerHTML=""+o,void 0===s&&(s=void 0!==t?""+t:o),n.value=""+s,n.displayMode=a,n.selected=!!e.selected&&e.selected,n.disabled=!!e.disabled&&e.disabled,n.dataItem=n,void 0!==t&&(n.dataIndex=t),e.title&&(n.title=e.title),d&&(n.group=""+d),n}},{key:"_beginUpdate",value:function(){this.isUpdating++}},{key:"_isUpdating",value:function(){return this.isUpdating>0}},{key:"_endUpdate",value:function(){this.isUpdating--}},{key:"_initializeRecyclingItems",value:function(){var e=this;if(e.dataSource&&(!e.dataSource||0!==e.dataSource.length)&&e.isVirtualized){var t=0,r=e.offsetHeight;e.$.itemsInnerContainer.innerHTML="",e._recyclingItems=[];var i=function(){for(var i=0;i<e.dataSource.length;i++){var a=e.dataSource[i],n=e._createItem(a);if(e.itemHeight&&"auto"!==e.itemHeight&&(n.style.height=e.itemHeight+"px"),e.$.itemsInnerContainer.appendChild(n),t+=n.offsetHeight,n.dataItem=e._items[i],e._recyclingItems.push(n),t>1.5*r)break}};i();for(var a=0;t<1.5*r&&++a<5;)i()}}},{key:"_dataBind",value:function(){var e=this;if(e._scrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),"function"==typeof e.dataSource&&(e._items=[]),"string"==typeof e.dataSource&&(e.dataSource=JSON.parse(e.dataSource)),null!==e.dataSource&&e.dataSource instanceof Array){e.isUpdating++;var t=function(t){e._items=[],e._groups=[];for(var r=0;r<e.dataSource.length;r++){var i=e.dataSource[r],a=t?e._createItem(i,r):e._createItem(i,r,!0);e._items[r]=a,t&&t.appendChild(a)}};if(e.isVirtualized)t(),e._initializeRecyclingItems();else{var r=document.createDocumentFragment();e.$.itemsInnerContainer.innerHTML="",t(r),e.$.itemsInnerContainer.appendChild(r)}e.isUpdating--}var i=e.querySelectorAll("smart-list-item"),a=function(){e.isUpdating++,e.dataSource||(e._initializeHtmlListItems(),e._initializeHtmlListGroups()),e.grouped&&e._group(),e.sorted&&e._sort(),e._refreshLayout(),e._initializeSelection(),e.isInitialized=!0,e.isUpdating--,e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&(e._items.map(function(t){return e._applyTemplate(t)}),e._refreshLayout()),e.__onCompleted&&(e._onCompleted=e.__onCompleted,e.__onCompleted=null,e._onCompleted()),e.$.fireEvent("bindingComplete")};0===i.length?a():(e._onCompleted&&(e.__onCompleted=e._onCompleted,e._onCompleted=null),e._ensureItemsReady(i,a))}},{key:"_ensureItemsReady",value:function(e,t){var r=this,i=function(){var r=function(t){for(var r=0;r<e.length;r++)e[r].context="node"===t?e[r]:document};r("node"),t(),r()};if(0===e.length)i();else{r._nodesReadyListeners=0;for(var a=0;a<e.length;a++){var n=e[a],l=function(){0===--r._nodesReadyListeners&&(i(),delete r._nodesReadyListeners)}.bind(r);n.isCompleted||(r._nodesReadyListeners++,n._onCompleted=l)}0===r._nodesReadyListeners&&i()}}},{key:"_initializeInnerHTML",value:function(){var e=this;e.$.itemsInnerContainer.innerHTML.indexOf("<option")>=0?e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<optgroup/gi,"<smart-list-items-group").replace(/<\/optgroup/gi,"</smart-list-items-group").replace(/<option/gi,"<smart-list-item").replace(/<\/option/gi,"</smart-list-item"):e.$.itemsInnerContainer.innerHTML.indexOf("<ul")>=0&&(e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<ul/gi,"<smart-list-items-group").replace(/<\/ul/gi,"</smart-list-items-group").replace(/<li/gi,"<smart-list-item").replace(/<\/li/gi,"</smart-list-item"))}},{key:"_initializeHtmlListItems",value:function(){var e=this,t=e.querySelectorAll("smart-list-item"),r="checkBox"===e.selectionMode||"radioButton"===e.selectionMode?e.selectionMode:"plain",i=function(e,t,r){return void 0!==e[t]?""+e[t]:e[r]};e._items=[];for(var a=0,n=0;n<t.length;n++){var l=t[n];l.dataIndex=n,l.label=l.innerHTML,l.dataItem=l,l.top||(l.top=a),l.height||(l.height=l.offsetHeight),a+=l.height,l.value||(l.value=""+n);var o=i(l,e.displayMember,"label"),s=i(l,e.valueMember,"value"),d=i(l,e.groupMember,"group");l.label!==o&&(l.label=o),l.value!==s&&(l.value=s),l.group!==d&&(l.group=d),l.displayMode=r,l.selected&&(e.selectedIndexes.push(n),e.selectedValues.push(l.value)),e._items.push(l)}e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._items.map(function(t){return e._applyTemplate(t)})}},{key:"_group",value:function(){var e=this;e.isUpdating++;var t=[],r=[];e.sorted&&e._unsort();for(var i=0;i<e._items.length;i++){var a=e._items[i],n=a.group||a.innerHTML.toUpperCase().charAt(0)||a.label.toUpperCase().charAt(0);t[n]?t[n].items.push(a):t[t.length++]=t[n]={items:[a],label:n}}if(e.isVirtualized){e._groups=[];for(var l=0;l<t.length;l++){var o=t[l];o.dataIndex=l,o.grouped=!0,o.hidden=!1,o.displayMode="plain",r.push(o);for(var s=0;s<t[l].items.length;s++){var d=o.items[s];d.ownerGroup=o,r.push(d)}}e._groups=t,e._items=r}else{for(;e.$.itemsInnerContainer.firstChild;)e.$.itemsInnerContainer.removeChild(e.$.itemsInnerContainer.firstChild);var c=document.createDocumentFragment();e._groups=[];for(var u=0;u<t.length;u++){var p=t[u],m=document.createElement("smart-list-items-group");m.label=p.label,m.dataIndex=u;for(var f=0;f<t[u].items.length;f++){var h=p.items[f];r.push(h),m.appendChild(h)}e._groups.push(m),c.appendChild(m)}e._items=r;/Trident|Edge/.test(navigator.userAgent)?setTimeout(function(){e.$.itemsInnerContainer.appendChild(c)},50):e.$.itemsInnerContainer.appendChild(c)}e.sorted&&e._sort(),e.isUpdating--}},{key:"_ungroup",value:function(){var e=this;e.isUpdating++,e._groups=[],e._unsort();var t=[];if(e.isVirtualized)for(var r=0;r<e._items.length;r++){var i=e._items[r];i.grouped||t.push(i)}else{for(var a=document.createDocumentFragment(),n=0;n<e._items.length;n++){var l=e._items[n];a.appendChild(l),t.push(l)}t.length>0&&(e.$.itemsInnerContainer.innerHTML="",e.$.itemsInnerContainer.appendChild(a))}e._items=t,e.sorted&&e._sort(),e.isUpdating--}},{key:"_initializeHtmlListGroups",value:function(){var e=this,t=e.$.itemsInnerContainer.querySelectorAll("smart-list-items-group");e._groups=[];for(var r=0;r<t.length;r++){var i=t[r];i.dataIndex=r,e._groups.push(i)}}},{key:"_initializeSelection",value:function(){var e=this;"one"!==e.selectionMode&&"oneOrMany"!==e.selectionMode&&"oneOrManyExtended"!==e.selectionMode||0===e.selectedIndexes.length&&0===e.selectedValues.length&&e._items.length>0&&(e.selectedIndexes.push(0),e.selectedValues.push(e._items[0].value));var t=e.selectedIndexes.slice(0),r=e.selectedValues.slice(0);e.clearSelection();for(var i=0;i<e._items.length;i++){var a=e._items[i];(t.indexOf(i)>=0||r.indexOf(a.value||a.label)>=0)&&(e._focusedItem&&(e._focusedItem.focused=!1),e._focusedItem=null,e.select(a))}}},{key:"onItemUpdated",value:function(){var e=this;e.isInitialized&&!e._isUpdating()&&(e.isUpdating++,e._refreshLayout(),e.isUpdating--)}},{key:"_refreshItems",value:function(){var e=this;if(e.isInitialized&&!e._isUpdating()){if(e.isUpdating++,e.grouped?e._ungroup():e.sorted&&e._unsort(),!e.isVirtualized){e._items=[];for(var t=e.querySelectorAll("smart-list-item"),r=0;r<t.length;r++)t[r].dataIndex=r,e._items.push(t[r])}e.grouped?e._group():e.sorted&&e._sort(),e._refreshLayout(),e.isUpdating--}}},{key:"_applyIncrementalSearch",value:function(e){var t=this;null===t.incrementalSearchDelay||isNaN(t.incrementalSearchDelay)||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control","Home","End","PageUp","PageDown"].indexOf(e)>-1||(0!==t._incrementalSearchQuery.indexOf(e)&&(t._incrementalSearchQuery+=e),t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t._incrementalSearch(),t._incrementalSearchTimer=setTimeout(function(){t._incrementalSearchQuery=""},t.incrementalSearchDelay))}},{key:"select",value:function(e){var t=this;if(("string"!=typeof e||(e=t.getItem(e)))&&("number"!=typeof e||(e=t.getItem(e)))&&!e.grouped&&!e.unselectable){if("none"===t.selectionMode)return t.selectedIndexes=[],void(t.selectedValues=[]);switch(t._focusedItem||"none"===t.selectionMode||(t._focusedItem=e,e.focused=!0),t.selectionMode){case"one":return(1!==t.selectedIndexes.length||t.selectedIndexes[0]!==t._indexOf(e))&&(t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),!0);case"zeroOrOne":return 1===t.selectedIndexes.length&&t.selectedIndexes[0]===t._indexOf(e)?(t.unselect(e),!0):(t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),!0);case"radioButton":if(t.$.itemsInnerContainer.querySelectorAll("smart-list-items-group").length>0){var r=e.parentNode;if(!e.selected){for(var i in r.children){var a=r.children[i];a.selected&&t.unselect(a)}t._select(e)}return!0}if(t.isVirtualized&&t._groups.length>0){var n=e.ownerGroup;if(!e.selected){for(var l in n.items){var o=n.items[l];o.selected&&t.unselect(o)}t._select(e)}return!0}return e.selected||(t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e)),!0;case"oneOrMany":return e.selected?t.selectedIndexes.length>1&&t.unselect(e):t._select(e),!0;case"zeroOrMany":case"checkBox":return e.selected?t.unselect(e):t._select(e),!0;case"oneOrManyExtended":var s=t.selectedValues;if(t._keysPressed.Control)return t.selectedIndexes.length>1&&e.selected?(t.unselect(e),t._focus(t._items[t.selectedIndexes[0]])):t._select(e),!0;if(t._keysPressed.Shift){var d=t._items[t.selectedIndexes[0]],c=void 0
;t.clearSelection();var u=s.indexOf(d.value)>=0||d.selected;if(t._select(d,u),t._indexOf(d)>t._indexOf(e))for(c=t._indexOf(d)-1;c>=t._indexOf(e);){var p=t._items[c],m=s.indexOf(p.value)>=0||p.selected;t._select(p,m),c--}else for(c=t._indexOf(d)+1;c<=t._indexOf(e);){var f=t._items[c],h=s.indexOf(f.value)>=0||f.selected;t._select(f,h),c++}for(var g=0;g<s.length;g++){var _=s[g],v=t.getItem(_);v.selected||t.$.fireEvent("change",{selected:v.selected,disabled:v.disabled,index:t._indexOf(v),label:v.label,value:v.value})}return!0}for(var y=0;y<s.length;y++){var b=s[y],I=t.getItem(b);e!==I&&t.unselect(I)}return t.clearSelection(),t._select(e,s.indexOf(e.value)>=0),!0}return!1}}},{key:"_applyTemplate",value:function(e,t){var r=this;if(null!==r.itemTemplate&&r._bindingDetails&&0!==r._bindingDetails.length){for(var i=r._bindingDetails.length,a=document.importNode(r._template.content,!0),n=void 0,l=void 0,o=0;o<i;o++){n=a.childNodes[r._bindingDetails[o].childNodeIndex],l=r._bindingDetails[o].bindingString.length;for(var s=0;s<l;s++){var d=r._bindingDetails[o].bindingString[s],c=d.indexOf("label")>=0?e.label:e.value;n.innerHTML=n.innerHTML.replace(d,c)}}e.innerHTML="";for(var u=0;u<a.childNodes.length;u++)a.childNodes[u].outerHTML&&(e.innerHTML+=a.childNodes[u].outerHTML);!1!==t&&(r._scrollHeightTimer&&(clearInterval(r._scrollHeightTimer),r._scrollHeightCounter=0),r._scrollHeightTimer=setInterval(function(){r._lastScrollHeight===r.$.itemsInnerContainer.scrollHeight&&10!==r._scrollHeightCounter||(r._refreshLayout(),clearInterval(r._scrollHeightTimer)),r._lastScrollHeight=r.$.itemsInnerContainer.scrollHeight,r._scrollHeightCounter++},50))}}},{key:"_filterItems",value:function(e,t){var r=this,i=r.$.filterInput.value,a=void 0,n=void 0,l=function(){if(0===n.length)return r._filteredItems=[],void(t&&t());a=r._queryItems(i,r.filterMode);for(var l=0;l<n.length;l++)n[l].hidden=!0;for(var o=0;o<a.length;o++){a[o].hidden=!1}if(r.grouped&&r.isVirtualized)for(var s=0;s<r._groups.length;s++){for(var d=r._groups[s],c=d.items,u=!0,p=0;p<c.length;p++)c[p].hidden||(u=!1);u&&(d.hidden=!0)}if(r.grouped&&!r.isVirtualized)for(var m=0;m<r._groups.length;m++){for(var f,h=r._groups[m],g=(f=[]).concat.apply(f,babelHelpers.toConsumableArray(h.querySelectorAll("smart-list-item"))),_=!0,v=0;v<g.length;v++)g[v].$.hasClass("smart-hidden")||(_=!1);_?h.$.addClass("smart-hidden"):h.$.removeClass("smart-hidden")}r._filteredItems=a,r._refreshLayout(),t&&t(),e||r._refreshSelection()};if("function"==typeof r.dataSource)if(i){var o=function(e){i&&r.isAttached&&(r.clearItems(),r.insert(0,e),a=n=r._items,l())},s=r.dataSource(i,o);if(s){if(!i)return;r.clearItems(),r.insert(0,s),a=n=r._items,l()}}else r.clearItems(),a=n=r._items,l();else{if(n=r._items,0===n.length)return;l()}}},{key:"_getNextItem",value:function(e){for(var t=this,r=t._items,i=t._items.length,a=Math.max(e+1,0);a<i;){var n=r[a];if(!(n.disabled||n.hidden||n.grouped||n.unselectable))return n;a++}return r[e]}},{key:"_getPreviousItem",value:function(e){for(var t=this,r=t._items,i=Math.max(e-1,0);i>-1;){var a=r[i];if(!(a.disabled||a.hidden||a.grouped||a.unselectable))return a;i--}return r[e]}},{key:"update",value:function(e,t){var r=this,i=r._items[e];if(i){if("string"==typeof t)i.label=t,void 0===i.value&&(i.value=t);else for(var a in t)i[a]=t[a];(r.sorted||r.grouped||r.isVirtualized)&&(r._refreshItems(),r._refreshSelection())}else r.error(r.localize("indexOutOfBound",{elementType:r.nodeName.toLowerCase(),method:"update"}))}},{key:"insert",value:function(e,t){var r=this;if(e||(e=0),t instanceof Array){r.isUpdating++;for(var i=0;i<t.length;i++){var a=t[i],n=r._createItem(a);e>=r._items.length||0===r._items.length?r.appendChild(n):r.insertBefore(n,r._items[e])}r.isUpdating--}else{var l=r._createItem(t);e>=r._items.length||0===r._items.length?r.appendChild(l):r.insertBefore(l,r._items[e])}r._refreshItems(),0!==r._items.length&&(0===r.selectedIndexes.length&&("oneOrMany"!==r.selectionMode&&"one"!==r.selectionMode&&"oneOrManyExtended"!==r.selectionMode||r.select(r._items[0])),r._refreshSelection(),r.$.fireEvent("bindingComplete"))}},{key:"remove",value:function(e){var t=this,r=t._items[e];r?(t.isVirtualized?t._items.splice(e,1):r.parentNode.removeChild(r),r.selected&&t.unselect(r),t._refreshItems(),t._refreshSelection(),0===t.selectedIndexes.length&&t._items.length>0&&("oneOrMany"!==t.selectionMode&&"one"!==t.selectionMode&&"oneOrManyExtended"!==t.selectionMode||t.select(t._items[0]))):t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"remove"}))}},{key:"_queryItems",value:function(e,t){var r=this,i=[];if(0===e.length)return r._items;for(var a=0;a<r._items.length;a++){var n=function(i,a){if(i.grouped)return i;switch(t){case"startsWith":if(0===i.label.indexOf(a))return i;break;case"startsWithIgnoreCase":if(0===i.label.toLowerCase().indexOf(a.toLowerCase()))return i;break;case"doesNotContain":if(i.label.indexOf(a)<0)return i;break;case"doesNotContainIgnoreCase":if(i.label.toLowerCase().indexOf(a.toLowerCase())<0)return i;break;case"contains":if(i.label.indexOf(a)>-1)return i;break;case"containsIgnoreCase":if(i.label.toLowerCase().indexOf(a.toLowerCase())>-1)return i;break;case"equals":if(0===i.label.localeCompare(a))return i;break;case"equalsIgnoreCase":if(0===i.label.toLowerCase().localeCompare(a.toLowerCase()))return i;break;case"endsWith":if(i.label.endsWith(a))return i;break;case"endsWithIgnoreCase":if(i.label.toLowerCase().endsWith(a.toLowerCase()))return i;break;case"custom":if(r.filterCallback(i,e))return i}return null}(r._items[a],e);n&&i.push(n)}return i}},{key:"_select",value:function(e,t){var r=this,i=r.selectedIndexes.indexOf(r._indexOf(e)),a=r.selectedIndexes.slice(0),n=r.selectedValues.slice(0);return e.selected=!0,-1!==i?(r._recycle(),!1):(a.push(r._indexOf(e)),n.push(e.value||e.label),r.selectedIndexes=a,r.selectedValues=n,r._recycle(),r.$.hiddenInput.value=n.toString(),r.isCompleted&&!t&&r.isInitialized?(r.$.fireEvent("change",{selected:e.selected,disabled:e.disabled,index:r._indexOf(e),label:e.label,value:e.value}),!0):void 0)}},{key:"unselect",value:function(e){var t=this;if(e&&("string"!=typeof e||(e=t.getItem(e)))){if("none"===t.selectionMode)return void t.clearSelection();var r=t.selectedIndexes.indexOf(t._indexOf(e)),i=t.selectedIndexes.slice(0),a=t.selectedValues.slice(0);if(e.selected=!1,!(r>=0))return!1;if(i.splice(r,1),a.splice(r,1),t.selectedIndexes=i,t.selectedValues=a,t.$.hiddenInput.value=a.toString(),t.isCompleted)return t.$.fireEvent("change",{selected:e.selected,disabled:e.disabled,index:t._indexOf(e),label:e.label,value:e.value}),t._recycle(),!0}}},{key:"_handleItemTemplate",value:function(e){if(null!==e&&e){var t=this;if(!("content"in document.createElement("template")))return t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()})),void(t.itemTemplate=null);if(null===(e=document.getElementById(e))||!("content"in e))return t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"itemTemplate"})),void(t.itemTemplate=null);var r=e.content,i=r.childNodes.length,a=/{{\w+}}/g,n=void 0,l=void 0;t._bindingDetails=[],t._template=e;for(var o=0;o<i;o++){for(l=[];n=a.exec(r.childNodes[o].innerHTML);)l.push(n[0]);l.length>0&&t._bindingDetails.push({childNodeIndex:o,bindingString:l})}return!0}}},{key:"_handleKeyStrokes",value:function(e){var t=this,r="radioButton"===t.selectionMode||"checkBox"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode,i=t._items;if(t.filterable&&t.$.filterInput.value.length>0&&(i=t._filteredItems),!t.disabled&&!t.readonly){switch(e){case"ArrowLeft":case"ArrowUp":t._handleArrowKeys(!0);break;case"ArrowRight":case"ArrowDown":t._handleArrowKeys(!1);break;case" ":if(t.selectedIndexes.length<1&&!t._focusedItem)return;var a=t._focusedItem?t._focusedItem:t._items[t.selectedIndexes[t.selectedIndexes.length-1]],n=function(e){e.selected&&"radioButton"!==t.selectionMode?t.unselect(e):t.select(e)};if("oneOrMany"===t.selectionMode)return void(a.selected&&t.selectedIndexes.length>1?n(a):a.selected||n(a));n(a);break;case"Home":if(0===i.length)return;r?t._focus(i[0]):(t._keysPressed.Shift||t.clearSelection(),t.select(i[0]),t._focus(i[0])),t._scrollView.scrollTop=0;break;case"End":if(0===i.length)return;r?t._focus(i[i.length-1]):(t._keysPressed.Shift||t.clearSelection(),t.select(i[i.length-1]),t._focus(i[i.length-1])),t._scrollView.scrollTop=t._scrollView.scrollHeight;break;case"PageUp":t._pageUpKeyHandler(i);break;case"PageDown":t._pageDownKeyHandler(i)}t._recycle()}}},{key:"_horizontalScrollbarHandler",value:function(e){var t=this;e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollLeft=e.detail.value}},{key:"_unsort",value:function(){var e=this;e.isUpdating++;var t=function(e,t){var r=e.dataIndex,i=t.dataIndex;return r<i?-1:r>i?1:0};if(e.isVirtualized)if(e._groups.length>0){e._groups.sort(t);for(var r=[],i=0;i<e._groups.length;i++){var a,n=e._groups[i],l=(a=[]).concat.apply(a,babelHelpers.toConsumableArray(n.items));l.sort(t),r.push(n),r=r.concat(l)}e._items=r}else e._items.sort(t);else{if(e._groups.length>0){e._groups.sort(t);for(var o=[],s=0;s<e._groups.length;s++){var d,c=e._groups[s],u=(d=[]).concat.apply(d,babelHelpers.toConsumableArray(c.querySelectorAll("smart-list-item")));u.sort(t),o=o.concat(u)}e._items=o}else e._items.sort(t);e._applySortOrder()}e.isUpdating--}},{key:"_applySortOrder",value:function(){var e=this,t=function(e){for(var t=0;t<e.length;t++){var r=e[t],i=r.parentNode;i&&i.appendChild(r)}};t(e._items),t(e._groups)}},{key:"_sort",value:function(){var e=this;e.isUpdating++;var t=function(e,t){var r=e.label,i=t.label;return r<i?-1:r>i?1:0};if(e._groups.sort(t),e.isVirtualized)if(e._groups.length>0){for(var r=[],i=0;i<e._groups.length;i++){var a,n=e._groups[i],l=(a=[]).concat.apply(a,babelHelpers.toConsumableArray(n.items));r.push(n),l.sort(t),r=r.concat(l)}e._items=r}else e._items.sort(t);else{if(e._groups.length>0){for(var o=[],s=0;s<e._groups.length;s++){var d,c=e._groups[s],u=(d=[]).concat.apply(d,babelHelpers.toConsumableArray(c.querySelectorAll("smart-list-item")));u.sort(t),o=o.concat(u)}e._items=o}else e._items.sort(t);e._applySortOrder()}e.isUpdating--}},{key:"getItem",value:function(e){for(var t=this,r=0;r<t._items.length;r++)if(t._items[r].value===e)return t._items[r];return null}},{key:"_focus",value:function(e){var t=this;!e||"none"===t.selectionMode||t.disabled||t.readonly||(t._focusedItem&&(t._focusedItem.focused=!1),t._focusedItem=e,t._focusedItem.focused=!0)}},{key:"_keyDownHandler",value:function(e){var t=this,r=e.key;if(!t.disabled&&!t.readonly&&(!t.filterable||t.$.filterInput!==document.activeElement)&&t._focused&&0!==t._items.length&&!t.disabled&&!t.displayLoadingIndicator){if(t.editable){if("F2"===r)return void t._dblclickEventHandler({target:t._focusedItem});if(t.$.editInput===document.activeElement)return}if("none"!==t.selectionMode){switch(e.stopPropagation(),r){case"Down":case"Right":case"Left":case"Up":r="Arrow"+r}if(t.filterable)switch(r){case"ArrowLeft":case"ArrowRight":return;case"ArrowUp":case"ArrowDown":e.preventDefault()}if(t._applyIncrementalSearch(r),!(["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","Home","End","PageUp","PageDown"].indexOf(r)<0)){if(e.preventDefault(),!t._focusedItem&&t._items.length>0)return void("one"===t.selectionMode||"oneOrMany"===t.selectionMode||"oneOrManyExtended"===t.selectionMode?t.select(t._items[0]):t._focus(t._items[0]));switch(t.selectionMode){case"one":if("Shift"===r||"Control"===r||" "===r)return;t._handleKeyStrokes(r);break;case"oneOrMany":case"zeroOrOne":case"zeroOrMany":case"radioButton":case"checkBox":if("Shift"===r||"Control"===r)return;t._handleKeyStrokes(r);break;case"oneOrManyExtended":if(" "===r)return;t._keysPressed[r]="keydown"===e.type,t._handleKeyStrokes(r)}}}}}},{key:"_keyUpHandler",value:function(e){var t=this;if(!t.editable||t.$.editInput!==document.activeElement){if(t.filterable&&t.$.filterInput===document.activeElement)return t._filterTimer&&clearTimeout(t._filterTimer),void(t._filterTimer=setTimeout(function(){var e=t.context;t.context=t,t._filterItems(),t._scrollView.scrollTop=t.$.itemsContainer.scrollTop=0,t._scrollView.scrollLeft=t.$.itemsContainer.scrollLeft=0,t.context=e},300));if(t._focused){if(t._focusedItem&&t._focusedItem.hidden&&t._filteredItems.length>0){var r=t._filteredItems[0];r.grouped&&t._filteredItems.length>1&&(r=t._filteredItems[1]),t._focus(r),t._recycle()}e.stopPropagation(),e.preventDefault(),t.disabled||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","PageUp","PageDown"].indexOf(e.key)<0||(t._keysPressed[e.key]=!1)}}}},{key:"_mouseWheelHandler",value:function(e){var t=this;t._scrollView.hScrollBar.$.hasClass("smart-hidden")&&t._scrollView.vScrollBar.$.hasClass("smart-hidden")||t.disabled||t._scrollView.vScrollBar.$.hasClass("smart-hidden")||(e.stopPropagation(),e.preventDefault(),t._scrollView.scrollTo(t._scrollView.scrollTop+(e.deltaY<0?-t.offsetHeight:t.offsetHeight)))}},{key:"_pageDownKeyHandler",value:function(e){var t=this;if(0!==e.length){var r=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];"checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._focusedItem&&(r=t._focusedItem);for(var i=void 0,a=t._indexOf(r),n=r.top+t.$.itemsContainer.offsetHeight-r.height,l=a;l<e.length;l++)if(e[l].top>=n){i=e[l];break}i||(i=e[e.length-1]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode?t._focus(i):i.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(i),t._focus(i)),(i.height+i.top>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||i.top<t.$.itemsContainer.scrollTop)&&(t._scrollView.scrollTop=i.top-t.$.itemsContainer.offsetHeight+i.height)}}},{key:"_pageUpKeyHandler",value:function(e){var t=this;if(0!==e.length){var r=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];"checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._focusedItem&&(r=t._focusedItem);for(var i=r.top-t.$.itemsContainer.offsetHeight,a=t._indexOf(r),n=void 0,l=a;l>0;l--)if(e[l].top<=i){n=e[l];break}n||(n=e[0]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode?t._focus(n):n.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(n),t._focus(n)),t._scrollView.scrollTop=n.top;0===t._indexOf(n)&&(t._scrollView.scrollTop=0)}}},{key:"clearItems",value:function(){var e=this;e.$.itemsInnerContainer.innerHTML="",e.clearSelection(),e._items=[],e.$placeholder.removeClass("smart-hidden")}},{key:"_resizeHandler",value:function(e){var t=this;e.target!==t||t._isUpdatingScrollBars||(t._isUpdatingScrollBars=!0,t._initializeRecyclingItems(),t._refreshLayout(),t._isUpdatingScrollBars=!1)}},{key:"_indexOf",value:function(e){var t=this;if(!e)return-1;var r=t._items.indexOf(e);return-1===r&&(r=t._items.indexOf(t.getItem(e.value))),r}},{key:"_incrementalSearch",value:function(){var e=this,t="radioButton"!==e.selectionMode&&"checkBox"!==e.selectionMode&&"zeroOrMany"!==e.selectionMode&&"oneOrMany"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode,r=void 0,i=0;switch(e.incrementalSearchMode){case"containsIgnoreCase":case"equalsIgnoreCase":case"startsWithIgnoreCase":case"endsWithIgnoreCase":r=e._incrementalSearchQuery.toLowerCase();break;default:r=e._incrementalSearchQuery}var a=function(r){r.grouped||r.unselectable||(t?(e.selectedIndexes.length>0&&e.clearSelection(),e._focus(r),e.select(r)):e._focus(r),(r.height+r.top>e.$.itemsContainer.scrollTop+e.$.itemsContainer.offsetHeight||r.top<e._scrollView.scrollTop)&&(e._scrollView.scrollTop=r.top),0===e._indexOf(r)&&(e._scrollView.scrollTop=0),e._indexOf(r)===e._items.length-1&&(e._scrollView.scrollTop=e._scrollView.scrollHeight))};0!==e._previousEntry.localeCompare(r)&&(e._incrementalSearchItems=e._queryItems(e._incrementalSearchQuery,e.incrementalSearchMode),delete e._itemPosition),e._previousEntry=r;var n=e._incrementalSearchItems.length;if(0!==n){if(1===n)return void a(e._incrementalSearchItems[0]);for(void 0!==e._itemPosition?e._itemPosition<n-1?i=e._itemPosition:(i=0,t?(e._incrementalSearchItems[e._itemPosition].selected=!1,e.selectedIndexes=[],e.selectedValues=[]):e._incrementalSearchItems[e._itemPosition].focused=!1):t&&e.clearSelection(),i;i<n;i++)if(e._incrementalSearchItems[i].selected&&t)e._incrementalSearchItems[i].selected=!1,e.selectedIndexes=[],e.selectedValues=[];else{if(t||!e._incrementalSearchItems[i].focused)return a(e._incrementalSearchItems[i]),void(e._itemPosition=i);e._incrementalSearchItems[i].focused=!1}}}},{key:"_selectStartHandler",value:function(e){this.$.filterInput!==document.activeElement&&this.$.editInput!==document.activeElement&&e.preventDefault()}},{key:"_handleArrowKeys",value:function(e){var t=this,r="radioButton"!==t.selectionMode&&"checkBox"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode;if(!t.disabled&&!t.readonly){var i=void 0;if(t._focusedItem&&!t._keysPressed.Shift)i=t._indexOf(t._focusedItem),t._focusedItem.focused=!1;else{if(0===t.selectedIndexes.length)return;i=t.selectedIndexes[t.selectedIndexes.length-1]}var a=e?t._getPreviousItem(i):t._getNextItem(i);t._focus(a),r&&(t._keysPressed.Shift?t.select(a):t._items[i]!==a&&(t.clearSelection(),t.select(a))),t.ensureVisible(a)}}},{key:"_refreshFilter",value:function(){var e=this;if(e.filterable)return e.$.filterInput.disabled=!(!e.disabled&&!e.displayLoadingIndicator),e.$filterInput.removeClass("smart-hidden"),void e.$itemsContainer.addClass("filter");e.$.filterInput.disabled=!0,e.$filterInput.addClass("smart-hidden"),e.$itemsContainer.removeClass("filter")}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return void e.removeAttribute("tabindex");e.tabIndex=e.tabIndex>0?e.tabIndex:0}},{key:"_setLoadingIndicatorVisibility",value:function(){var e=this;if(e.displayLoadingIndicator)return void(e.$loadingIndicatorContainer.hasClass("smart-visibility-hidden")?e.$loadingIndicatorContainer.removeClass("smart-visibility-hidden"):e.$loadingIndicatorContainer.removeClass("smart-hidden"));e._areCSSVarsSupported?e.$loadingIndicatorContainer.addClass("smart-hidden"):e.$loadingIndicatorContainer.addClass("smart-visibility-hidden")}},{key:"_refreshLayout",value:function(){var e=this,t=e._items;if(e.__scrollHeight=null,e.__scrollWidth=null,e._scrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),!t||null===t||0===t.length)return e._scrollView.hScrollBar.$.addClass("smart-hidden"),e._scrollView.vScrollBar.$.addClass("smart-hidden"),e.$itemsContainer.removeClass("hscroll"),e.$itemsContainer.removeClass("vscroll"),e.$filterInput.removeClass("vscroll"),e.$placeholder.removeClass("smart-hidden"),void(e.isVirtualized&&e._recycle());e.$placeholder.addClass("smart-hidden");var r=e._scrollWidth-e.$.itemsContainer.offsetWidth,i=e._scrollHeight;if(e._refreshHorizontalScrollBarVisibility(r),e._refreshVerticalScrollBarVisibility(i),!e._scrollView.vScrollBar.$.hasClass("smart-hidden"))return r=e._scrollWidth-e.$.itemsContainer.offsetWidth,e._refreshHorizontalScrollBarVisibility(r),e._scrollView.hScrollBar.$.hasClass("smart-hidden")?(e._scrollView.vScrollBar.$.removeClass("bottom-right-visible"),e._scrollView.hScrollBar.$.removeClass("bottom-right-visible")):(e._scrollView.hScrollBar.$.addClass("bottom-right-visible"),e._scrollView.vScrollBar.$.addClass("bottom-right-visible"),e.__scrollHeight+=e._scrollView.hScrollBar.offsetHeight,e._scrollView.scrollHeight=e.__scrollHeight),void(e.isVirtualized&&e._recycle());r=e._scrollWidth-e.$.itemsContainer.offsetWidth,e._refreshHorizontalScrollBarVisibility(r),e._scrollView.hScrollBar.$.hasClass("smart-hidden")||(e._scrollView.scrollHeight=e._scrollHeight,e._refreshVerticalScrollBarVisibility(i),e._scrollView.vScrollBar.$.hasClass("smart-hidden")?(e._scrollView.vScrollBar.$.removeClass("bottom-right-visible"),e._scrollView.hScrollBar.$.removeClass("bottom-right-visible")):(e._scrollView.hScrollBar.$.addClass("bottom-right-visible"),e._scrollView.vScrollBar.$.addClass("bottom-right-visible"))),e.isVirtualized&&e._recycle();var a=/Trident|Edge/.test(navigator.userAgent);!e.isRefreshing&&a&&setTimeout(function(){e.isRefreshing=!0,e._refreshLayout(),e.isRefreshing=!1},50)}},{key:"_styleChangedHandler",value:function(){this._refreshLayout()}},{key:"_swipeLeftHandler",value:function(){}},{key:"_swipeRightHandler",value:function(){}},{key:"_refreshHorizontalScrollBarVisibility",value:function(e){var t=this;t._scrollView.scrollWidth=e,e>0?(t._scrollView.scrollLeft=t.$.itemsContainer.scrollLeft,t.$itemsContainer.addClass("hscroll"),t._scrollView.hScrollBar.$.removeClass("smart-hidden")):(t._scrollView.hScrollBar.$.addClass("smart-hidden"),t.$itemsContainer.removeClass("hscroll"))}},{key:"_refreshVerticalScrollBarVisibility",value:function(e){var t=this;t._scrollView.scrollHeight=e,e>0?(t._scrollView.vScrollBar.$.removeClass("smart-hidden"),t.$itemsContainer.addClass("vscroll"),t.$filterInput.addClass("vscroll")):(t._scrollView.vScrollBar.$.addClass("smart-hidden"),t.$itemsContainer.removeClass("vscroll"),t.$filterInput.removeClass("vscroll"))}},{key:"_validateTemplate",value:function(e,t){if(null!==t&&t){var r=this;return"content"in document.createElement("template")?(t=document.getElementById(t),null!==t&&"content"in t?t:(r.error(r.localize("invalidTemplate",{elementType:r.nodeName.toLowerCase(),property:e})),void(r[e]=null))):(r.error(r.localize("htmlTemplateNotSuported",{elementType:r.nodeName.toLowerCase()})),void(r[e]=null))}}},{key:"_getItemIndexByPosition",value:function(e){var t=this,r=t.filterable&&t.$.filterInput.value.length>0?t._filteredItems:t._items;return function(r){var i=0,a=r.length-1;if(e<=0)return 0;if(r[r.length-1].top<=e)return r.length-1;for(;;){var n=Math.floor((i+a)/2),l=r[n];if(t._isItemInPosition(l,e))return n;l.top<e?i=n+1:l.top>e&&(a=n-1)}}(r)}},{key:"_isItemInPosition",value:function(e,t){var r=e.top,i=e.top+e.height;return r<=t&&i>t}},{key:"_recycle",value:function(){var e=this;if(e._recyclingItems){var t=e._height;e._height||(t=e._height=e.$.itemsContainer.offsetHeight);var r=0,i=e._scrollView.scrollTop,a=e._getItemIndexByPosition(i),n=e.filterable&&e.$.filterInput.value.length>0?e._filteredItems:e._items,l=n[a],o=l?l.top:0;if(e.$.itemsInnerContainer.style.left=-e._scrollView.scrollLeft+"px",e.$.itemsInnerContainer.style.top=-i+o+"px",e.isUpdating++,a>=0)for(var s=a;s<n.length;s++){var d=n[s];if(0!==d.height){if(!(o+d.height>=i&&o<=i+t))break;var c=e._recyclingItems[r++];if(!c)break;c.context=document,c.dataItem=d,c.label=d.label,c.value=d.value,c.selected=d.selected,c.focused=d.focused,c.hidden=d.hidden,c.grouped=d.grouped,c.unselectable=d.unselectable,d.title?c.title=d.title:c.title="",d.grouped?c.displayMode="plain":c.displayMode=d.displayMode,e._scrollView.scrollWidth>0&&(c.style.width=e.$.itemsInnerContainer.offsetWidth+e._scrollView.scrollWidth+"px"),e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._applyTemplate(c,!1),o+=d.height}}if(r<e._recyclingItems.length)for(var u=r;u<e._recyclingItems.length;u++){var p=e._recyclingItems[r++],m=p.context;p.context=document,p.hidden=!0,p.context=m}e.isUpdating--}}},{key:"_verticalScrollbarHandler",value:function(e){var t=this,r=e.detail.value;if(e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollTop=r,e.context.max===e.context.value)return void t.$.fireEvent("scrollBottomReached");e.context.min===e.context.value&&t.$.fireEvent("scrollTopReached")}},{key:"items",get:function(){var e=this;return e._filteredItems?e._filteredItems:e._items}},{key:"_scrollHeight",get:function(){var e=this,t=0;if(e.isVirtualized){if(e.__scrollHeight)return e.__scrollHeight;if(0===e._items.length)return 0;e.isUpdating++;var r=e._createItem(e.dataSource[0]);e.$.itemsInnerContainer.appendChild(r);for(var i=0;i<e._items.length;i++){var a=e._items[i];a.hidden?(a.height=0,a.top=t):(e.itemHeight?(e.itemHeight<30&&(e.itemHeight=30),a.height=e.itemHeight):(r.label=a.label,a.height=r.offsetHeight),a.top=t,t+=a.height)}e.$.itemsInnerContainer.removeChild(r),e.__scrollHeight=t-e.$.itemsInnerContainer.offsetHeight,e.filterable&&(e.__scrollHeight+=e.$.filterInput.offsetHeight),t=e.__scrollHeight,e.isUpdating--}else{for(var n=0;n<e._items.length;n++){var l=e._items[n];l.hidden?(l.height=0,l.top=t):(e.itemHeight?"auto"!==e.itemHeight&&(l.height=e.itemHeight,l.style.height=l.height+"px"):l.height=l.offsetHeight,l.top=l.offsetTop,t+=l.height)}t=e.$.itemsInnerContainer.scrollHeight-e.$.itemsInnerContainer.offsetHeight,e.__scrollHeight=t}return t}},{key:"_scrollWidth",get:function(){var e=this,t=this,r=t._items;return t.__scrollWidth?t.__scrollWidth:(t.__scrollWidth=function(){var t=e,i=void 0;if(t.isVirtualized){for(var a="",n=0;n<r.length;n++){var l=r[n].label;l.length>a.length&&(a=l)}var o=t._createItem(t.dataSource[0]);return t.$.itemsInnerContainer.appendChild(o),o.label=a,t._areCSSVarsSupported?(t.$.container.setAttribute("style","--smart-list-item-inner-container-width: 'auto'"),i=o.offsetWidth,t.$.container.setAttribute("style","--smart-list-item-inner-container-width: 100%")):(t.$.itemsInnerContainer.style.width="0px",i=o.offsetWidth,t.$.itemsInnerContainer.style.width="100%"),o.parentNode.removeChild(o),i}if(t._areCSSVarsSupported){t.$.container.setAttribute("style","--smart-list-item-inner-container-width: 'auto'"),i=r[0].offsetWidth;for(var s=1;s<r.length;s++)i=Math.max(i,r[s].offsetWidth);if(t._groups)for(var d=0;d<t._groups.length;d++)i=Math.max(i,t._groups[d].offsetWidth);t.$.container.setAttribute("style","--smart-list-item-inner-container-width: 100%")}else{t.$.itemsInnerContainer.style.width="0px",i=r[0].offsetWidth;for(var c=1;c<r.length;c++)i=Math.max(i,r[c].offsetWidth);if(t._groups)for(var u=0;u<t._groups.length;u++)i=Math.max(i,t._groups[u].offsetWidth);t.$.itemsInnerContainer.style.width="100%"}return i}(),t.__scrollWidth>t.$.itemsContainer.offsetWidth?(t._areCSSVarsSupported?t.$.container.setAttribute("style","--smart-list-item-inner-container-width: "+t.__scrollWidth+"px"):t.$.itemsInnerContainer.style.width=t.__scrollWidth+"px",t.__scrollWidth):(t._areCSSVarsSupported?t.$.container.setAttribute("style","--smart-list-item-inner-container-width: 100%"):t.$.itemsInnerContainer.style.width="100%",t.__scrollWidth))}},{key:"isVirtualized",get:function(){var e=this;return e.virtualized&&e.dataSource&&e.dataSource.length>0}}],[{key:"properties",get:function(){return{dataSource:{value:null,type:"any?",reflectToAttribute:!1},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},dropAction:{value:"move",type:"string",allowedValues:["copy","move","none"]},editable:{value:!1,type:"boolean"},filterable:{value:!1,type:"boolean"},filterCallback:{value:null,type:"function?"},filterMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},filterInputPlaceholder:{value:"",type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},itemTemplate:{value:null,type:"string?"},itemHeight:{value:null,type:"number?"},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.',invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number or an Array of numbers.',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidItem:'{{elementType}}: "{{method}}" method accepts an object or an array of objects as it\'s second parameter.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.'}},type:"object"},name:{value:"",type:"string"},placeholder:{value:"No Items",type:"string"},reorder:{value:!1,type:"boolean"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},selectionMode:{value:"oneOrManyExtended",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},sorted:{value:!1,type:"boolean"},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"}}}},{key:"requires",get:function(){return{"Smart.ScrollBar":"smart.scrollbar.js"}}},{key:"listeners",get:function(){return{focus:"_focusHandler",blur:"_blurHandler","container.wheel":"_mouseWheelHandler","editInput.change":"_editInputEventHandler","editInput.blur":"_editInputEventHandler","editInput.keydown":"_editInputEventHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler","itemsInnerContainer.down":"_downHandler","itemsInnerContainer.dblclick":"_dblclickEventHandler","itemsInnerContainer.move":"_itemsContainerMoveHandler","document.up":"_upHandler","document.move":"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler",selectstart:"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}}]),t}(Smart.ContentElement));
//# sourceMappingURL=smart.listbox.js.map
